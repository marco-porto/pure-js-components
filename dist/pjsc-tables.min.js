const PJSCGenerateTable=e=>{let t="",r="",n="";return t='<table class="table table-hover">',t+=`<thead><tr>${r+=e.columnsMask.map((e,t)=>`<th data-pjsc-table-column-filter="${t}">${e.column}</th>`).join("")}</tr></thead>`,t+=`<tbody>${n+=e.rows.map(t=>`<tr data-pjsc-table-row-id="${t.id}">${e.columnsMask.map(e=>"imgProfile"==e.type?`<td class="d-flex align-items-center border-top-0"><img class="profile-img img-sm img-rounded mr-2" src="${t[e.jsonKey[1]]}">${t[e.jsonKey[0]]}</td>`:"img"==e.type?`<td class="d-flex align-items-center border-top-0"><img class="profile-img img-sm img-rounded mr-2" src="${t[e.jsonKey[0]]}"></td>`:"tags"==e.type?`<td>${t[e.jsonKey].map(e=>`<label class="badge badge-${e.color} mx-1">${e.name}</label>`).join(" ")}</td>`:"array"==e.type?`<td>${e.jsonKey.map(r=>t[r].join(e.joinBy)).join("")}</td>`:`<td>${t[e.jsonKey]}</td>`).join("")}<tr>`).join("")}</tbody>`,t+="</table>",console.log("[PJSC] Appending table to the component ..."),t},PJSCFilterTableBySampleText=(e,t,r=(()=>{}))=>{r(),t=t.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");let n=document.querySelector(e).childNodes[0];0!=t.replace(/\s/g,"").length&&Object.values(n.rows).map((e,r)=>{r%2!=0&&-1==e.innerHTML.toLowerCase().search(t)&&(e.innerHTML="")})},PJSCOrderTableColumns=(e,t=(()=>{}))=>{let r=e.parentNode.parentNode.parentNode,n=[],a=[];Object.values(r.rows).map((e,t)=>{t%2!=0&&n.push({element:e,content:Object.values(e.children).map(e=>e.innerHTML.replace(/<(.|\n)*?>/g,""))})}),n.map((t,r)=>t.content.map((t,n)=>{e.dataset.pjscTableColumnFilter==n&&a.push({content:t,pos:r})})),a.sort((e,t)=>e.content.toLowerCase()<t.content.toLowerCase()?-1:e.content.toLowerCase()>t.content.toLowerCase()?1:0),r.children[1].innerHTML="",a.map(e=>{r.children[1].appendChild(n[e.pos].element)}),null==localStorage.getItem("pjsc-rerendertable-order-table-column")&&localStorage.setItem("pjsc-rerendertable-order-table-column","true"),"true"==localStorage.getItem("pjsc-rerendertable-order-table-column")?(t(),localStorage.setItem("pjsc-rerendertable-order-table-column","false")):"false"==localStorage.getItem("pjsc-rerendertable-order-table-column")&&localStorage.setItem("pjsc-rerendertable-order-table-column","true")},PJSCAppendTableToContainer=(e,t,r=(()=>{}))=>{let n=document.querySelector(e);try{if(null==n)throw"Unknown containerId passed to function PJSCAppendTableToContainer() ðŸ˜µ"}catch(e){console.error(e)}n.innerHTML=PJSCGenerateTable(t),Object.values(n.children[0].children[0].children[0].children).map(n=>{n.style.cursor="pointer",n.addEventListener("click",function(){PJSCOrderTableColumns(this,()=>PJSCAppendTableToContainer(e,t,r))})}),r(),console.log("[PJSC] Table been appended successfully ðŸš€")},PJSCAddEventListenerToFilterInput=(e,t,r,n=(()=>{}))=>{let a=document.querySelector(e);try{if(null==a)throw"Unknown containerId passed to function PJSCAppendTableToContainer() ðŸ˜µ"}catch(e){console.error(`[PJSC] ${e}`)}a.addEventListener(t,function(){try{if(!a.hasAttribute("data-pjsc-apply-filter-to-table-container-id"))throw"Error to get dataset.pjscApplyFilterToTableContainerId, define data-pjsc-apply-filter-to-table-container-id attr to element, values accepted [needs to be the table container id]"}catch(e){console.error(`[PJSC] ${e}`)}try{if("sample-text"!=a.dataset.pjscApplyFilterType)throw a.hasAttribute("data-pjsc-apply-filter-type")?"Error to get dataset.pjscApplyFilterType, define data-pjsc-apply-filter-type attr to element, values accepted [sample-text] ðŸ˜¨":"Unknown data-pjsc-apply-filter-type attr value, values accepted [sample-text] ðŸ˜µ";PJSCFilterTableBySampleText(`#${this.dataset.pjscApplyFilterToTableContainerId}`,this.value,()=>{PJSCAppendTableToContainer(`#${this.dataset.pjscApplyFilterToTableContainerId}`,r,n)})}catch(e){console.error(`[PJSC] ${e}`)}})},PJSCAddEventListenerToTable=(e,t,r,n)=>{let a=document.querySelector(e);try{if(null==a)throw"Unknown containerId passed to function PJSCAddEventListenerToTable() ðŸ˜µ"}catch(e){console.error(`[PJSC] ${e}`)}let l=t.toUpperCase().split(">"),o=PJSCAddEventListenerToTableHelper(a,l[0],0);for(;o.proceed&&o.count!=l.length-1;)o=PJSCAddEventListenerToTableHelper(o.element,l[o.count+1],o.count+1),Object.values(o.element.childNodes).map((e,t)=>{t%2==0&&(e.addEventListener(r,()=>n()),e.style.cursor="pointer")})},PJSCAddEventListenerToTableHelper=(e,t,r)=>{let n={proceed:0,element:"",count:""};return Object.values(e.children).map(e=>{e.tagName==t&&(n={proceed:1,element:e,count:r})}),n};
const PJSCGenerateTable=e=>{let t="",r="",n="";return t='<table class="table table-hover">',t+=`<thead><tr>${r+=e.columnsMask.map((e,t)=>`<th data-pjsc-table-column-filter="${t}">${e.column}</th>`).join("")}</tr></thead>`,t+=`<tbody>${n+=e.rows.map(t=>`<tr data-pjsc-table-row-id="${t.id}">${e.columnsMask.map(e=>"imgProfile"==e.type?`<td class="d-flex align-items-center border-top-0"><img class="profile-img img-sm img-rounded mr-2" src="${t[e.jsonKey[1]]}">${t[e.jsonKey[0]]}</td>`:"img"==e.type?`<td class="d-flex align-items-center border-top-0"><img class="profile-img img-sm img-rounded mr-2" src="${t[e.jsonKey[0]]}"></td>`:"tags"==e.type?`<td>${t[e.jsonKey].map(e=>`<label class="badge badge-${e.color} mx-1">${e.name}</label>`).join(" ")}</td>`:`<td>${e.jsonKey.map(e=>t[e]).join("")}</td>`).join("")}<tr>`).join("")}</tbody>`,t+="</table>",console.log("[PJSC] Appending table to the component ..."),t},PJSCFilterTableBySampleText=(e,t,r=(()=>{}))=>{r(),t=t.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");let n=document.querySelector(e).childNodes[0];0!=t.replace(/\s/g,"").length&&Object.values(n.rows).map((e,r)=>{r%2!=0&&-1==e.innerHTML.toLowerCase().search(t)&&(e.innerHTML="")})},PJSCOrderTableColumns=(e,t=(()=>{}),r=(()=>{}))=>{let n=e.parentNode.parentNode.parentNode,l=[],o=[];Object.values(n.rows).map((e,t)=>{t%2!=0&&l.push({element:e.innerHTML,content:Object.values(e.children).map(e=>e.innerHTML.replace(/<(.|\n)*?>/g,""))})}),l.map((t,r)=>t.content.map((t,n)=>{e.dataset.pjscTableColumnFilter==n&&o.push({content:t,pos:r})})),o.sort((e,t)=>e.content.toLowerCase()<t.content.toLowerCase()?-1:e.content.toLowerCase()>t.content.toLowerCase()?1:0),n.children[1].innerHTML="",o.map(e=>{n.children[1].innerHTML+=l[e.pos].element}),null==localStorage.getItem("pjsc-rerendertable-order-table-column")&&localStorage.setItem("pjsc-rerendertable-order-table-column","true"),"true"==localStorage.getItem("pjsc-rerendertable-order-table-column")?(r(),localStorage.setItem("pjsc-rerendertable-order-table-column","false")):"false"==localStorage.getItem("pjsc-rerendertable-order-table-column")&&(console.log(t),t(),localStorage.setItem("pjsc-rerendertable-order-table-column","true"))},PJSCAppendTableToContainer=(e,t,r=(()=>{}))=>{let n=document.querySelector(e);try{if(null==n)throw"Unknown containerId passed to function PJSCAppendTableToContainer() ðŸ˜µ"}catch(e){console.error(e)}n.innerHTML=PJSCGenerateTable(t),r(),Object.values(n.children[0].children[0].children[0].children).map(n=>{n.style.cursor="pointer",n.addEventListener("click",function(){PJSCOrderTableColumns(this,r,PJSCAppendTableToContainer(e,t,r))})}),console.log("[PJSC] Table been appended successfully ðŸš€")},PJSCAddEventListenerToFilterInput=(e,t,r,n=(()=>{}))=>{let l=document.querySelector(e);try{if(null==l)throw"Unknown containerId passed to function PJSCAppendTableToContainer() ðŸ˜µ"}catch(e){console.error(`[PJSC] ${e}`)}l.addEventListener(t,function(){try{if(!l.hasAttribute("data-pjsc-apply-filter-to-table-container-id"))throw"Error to get dataset.pjscApplyFilterToTableContainerId, define data-pjsc-apply-filter-to-table-container-id attr to element, values accepted [needs to be the table container id]"}catch(e){console.error(`[PJSC] ${e}`)}try{if("sample-text"!=l.dataset.pjscApplyFilterType)throw l.hasAttribute("data-pjsc-apply-filter-type")?"Error to get dataset.pjscApplyFilterType, define data-pjsc-apply-filter-type attr to element, values accepted [sample-text] ðŸ˜¨":"Unknown data-pjsc-apply-filter-type attr value, values accepted [sample-text] ðŸ˜µ";PJSCFilterTableBySampleText(`#${this.dataset.pjscApplyFilterToTableContainerId}`,this.value,()=>{PJSCAppendTableToContainer(`#${this.dataset.pjscApplyFilterToTableContainerId}`,r,n)})}catch(e){console.error(`[PJSC] ${e}`)}})},PJSCAddEventListenerToTable=(e,t,r,n)=>{let l=document.querySelector(e);try{if(null==l)throw"Unknown containerId passed to function PJSCAddEventListenerToTable() ðŸ˜µ"}catch(e){console.error(`[PJSC] ${e}`)}let o=t.toUpperCase().split(">"),a=PJSCAddEventListenerToTableHelper(l,o[0],0);for(;a.proceed&&a.count!=o.length-1;)a=PJSCAddEventListenerToTableHelper(a.element,o[a.count+1],a.count+1),Object.values(a.element.childNodes).map((e,t)=>{t%2==0&&(e.addEventListener(r,()=>n()),e.style.cursor="pointer")})},PJSCAddEventListenerToTableHelper=(e,t,r)=>{let n={proceed:0,element:"",count:""};return Object.values(e.children).map(e=>{e.tagName==t&&(n={proceed:1,element:e,count:r})}),n};
const PJSCGenForecastComponent=(t,e)=>{let a="",n=[{path:"storm.gif",tags:["heavy rain and thunderstorms","showers and thunderstorms"]},{path:"sun-clouds.gif",tags:["partly cloudy","sunny intervals"]},{path:"clouds.gif",tags:["cloudy","cloudy (high cloud)","sunny intervals","partly cloudy","convective clouds"]},{path:"sun-rain.gif",tags:["showers/rain","light showers/rain","heavy showers/rain","rain/showers","light rain","heavy rain/showers","intermittent rain","intermittent ligth rain","intermittent heavy rain","drizzle"]},{path:"sun-snow.gif",tags:["snow","hail","frost","snow showers","rain and snow"]},{path:"sun.gif",tags:["clear sky"]},{path:"thunder.gif",tags:["thunderstorms"]},{path:"fog.gif",tags:["fog","mist"]}],s=[{type:"wind",badge:[{color:"success",tags:["weak"]},{color:"warning",tags:["moderate"]},{color:"danger",tags:["strong","very strong"]}]},{type:"rain",badge:[{color:"success",tags:["weak"]},{color:"warning",tags:["moderate"]},{color:"danger",tags:["strong","very strong"]}]},{type:"rain-percentage",badge:[{color:"success",tags:[0,25]},{color:"warning",tags:[26,50]},{color:"danger",tags:[51,100]}]}],r=[{short:"n",full:{EN:"North",PT:"Norte"}},{short:"e",full:{EN:"East",PT:"Leste"}},{short:"s",full:{EN:"South",PT:"Sul"}},{short:"w",full:{EN:"West",PT:"Oeste"}},{short:"ne",full:{EN:"Northeast",PT:"Nordeste"}},{short:"se",full:{EN:"Southeast",PT:"Sudeste"}},{short:"sw",full:{EN:"Southwest",PT:"Sudoeste"}},{short:"nw",full:{EN:"Northwest",PT:"Noroeste"}}];return a+=`<div class="split-header">\n                                <p class="card-title">PrevisÃ£o para 10 dias</p>\n                            </div>\n                            <div class="d-flex align-items-end mt-2">\n                                <h3>${t.local}</h3>\n                            </div>\n                            <div class="d-flex mt-2">\n                                <div class="wrapper d-flex pr-4">\n                                    <small class="text-primary font-weight-medium mr-2">Fonte</small>\n                                    <small class="text-gray">Instituto PortuguÃªs do Mar e da Atmosfera (IPMA)</small>\n                                </div>\n                            </div>`,a+='<div class="d-flex flex-row" style="overflow-x: auto;">',t.data.map(t=>{a+=`<div class="d-flex align-items-center flex-column mt-5 mb-3">\n                                        <div class="d-flex flex-column align-items-center h-50">\n                                            <img src="${e}${n.map(e=>{if(e.tags.includes(t.weather.EN.toLowerCase()))return e.path}).join("")}" class="img-fluid h-auto w-50">\n                                            <p class="mt-4 text-muted">${t.weather.PT}</p>\n                                        </div>\n                                        <div class="mt-3">\n                                            <div class="grid table-responsive">\n                                                <table class="table table-stretched">\n                                                    <thead>\n                                                        <tr><th><p class="display-4">${t.date.forecast.split("/")[1]}/${t.date.forecast.split("/")[0]}/${t.date.forecast.split("/")[2]}</p></th></tr>\n                                                    </thead>\n                                                    <tbody>\n                                                        <tr>\n                                                            <td>\n                                                                <p class="mb-n1 font-weight-medium">Temperatura</p>\n                                                                <small class="text-gray">Max/Min</small>\n                                                            </td>\n                                                            <td class="font-weight-medium">\n                                                                <div class="badge badge-danger">${t.temperature.max}ÂºC</div>\n                                                                <div class="badge badge-primary" style="background-color: #006acc;">${t.temperature.min}ÂºC</div>\n                                                            </td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td>\n                                                                <p class="mb-n1 font-weight-medium">Vento</p>\n                                                                <small class="text-gray">Velocidade/DireÃ§Ã£o</small>\n                                                            </td>\n                                                            <td class=" font-weight-medium">\n                                                                <div class="badge badge-${s.map(e=>{if("wind"==e.type){return e.badge.map(e=>{if(null!=t.rain.type&&e.tags.includes(t.wind.type.EN.toLowerCase()))return e.color}).join("")}}).join("")}">${null!=t.wind.type?t.wind.type.PT:"Sem informaÃ§Ã£o"}</div>\n                                                                <div class="badge badge-secondary">\n                                                                    ${t.wind.direction} -\n                                                                    ${r.map(e=>{if(e.short==t.wind.direction.toLowerCase())return e.full.PT}).join("")}\n                                                                </div>\n                                                            </td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td>\n                                                                <p class="mb-n1 font-weight-medium">PrecipitaÃ§Ã£o</p>\n                                                                <small class="text-gray">Quantidade/Probabilidade</small>\n                                                            </td>\n                                                            <td class=" font-weight-medium">\n                                                                <div class="badge badge-${s.map(e=>{if("rain"==e.type){return e.badge.map(e=>{if(null!=t.rain.type&&e.tags.includes(t.rain.type.EN.toLowerCase()))return e.color}).join("")}}).join("")}">${null!=t.rain.type?t.rain.type.PT:"Sem informaÃ§Ã£o"}</div>\n                                                                <div class="badge badge-${s.map(e=>{if("rain-percentage"==e.type){return e.badge.map(e=>{if(Math.round(t.rain.probabilityPercentage)>=e.tags[0]&&Math.round(t.rain.probabilityPercentage)<=e.tags[1])return e.color}).join("")}}).join("")}">${Math.round(t.rain.probabilityPercentage)}%</div>\n                                                            </td>\n                                                        </tr>\n                                                    </tbody>\n                                                </table>\n                                            </div>\n                                        </div>\n                                    </div>`}),a+="</div>"};async function PJSCAppendForecastToContainer(t,e,a){let n=document.querySelector(t);try{if(null==n)throw"Unknown containerId passed to function PJSCAppendForecastToContainer() ðŸ˜µ"}catch(t){console.error(t)}const s=fetch("https://capsule-api-rosy.vercel.app/api/meteorology/zones",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({local:e.local,filterBy:e.filterBy})}),r=await(await s).json();if(null!=r&&null!=r[0].globalIdLocal){const t=fetch("https://capsule-api-rosy.vercel.app/api/meteorology/forecast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({localCode:r[0].globalIdLocal})}),e=await(await t).json();null!=e&&(n.innerHTML=PJSCGenForecastComponent({data:e,local:r[0].local},a))}console.log("[PJSC] Forecast component been appended successfully ðŸš€")}
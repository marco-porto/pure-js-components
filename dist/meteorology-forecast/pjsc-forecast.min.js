const PJSCGenForecastComponent=(e,t)=>{let a="",n=[{path:"storm.webm",tags:["heavy rain and thunderstorms","showers and thunderstorms"]},{path:"sun-clouds.webm",tags:["partly cloudy","sunny intervals"]},{path:"clouds.webm",tags:["cloudy","cloudy (high cloud)","convective clouds"]},{path:"sun-rain.webm",tags:["showers/rain","light showers/rain","heavy showers/rain","rain/showers","light rain","heavy rain/showers","intermittent rain","intermittent ligth rain","intermittent heavy rain","drizzle"]},{path:"sun-snow.webm",tags:["snow","hail","frost","snow showers","rain and snow"]},{path:"sun.webm",tags:["clear sky"]},{path:"thunder.webm",tags:["thunderstorms"]},{path:"fog.webm",tags:["fog","mist"]}],s=[{type:"wind",badge:[{color:"success",tags:["weak"]},{color:"warning",tags:["moderate"]},{color:"danger",tags:["strong","very strong"]}]},{type:"rain",badge:[{color:"success",tags:["weak"]},{color:"warning",tags:["moderate"]},{color:"danger",tags:["strong","very strong"]}]},{type:"rain-percentage",badge:[{color:"success",tags:[0,25]},{color:"warning",tags:[26,50]},{color:"danger",tags:[51,100]}]}],o=[{short:"n",full:{EN:"North",PT:"Norte"}},{short:"e",full:{EN:"East",PT:"Leste"}},{short:"s",full:{EN:"South",PT:"Sul"}},{short:"w",full:{EN:"West",PT:"Oeste"}},{short:"ne",full:{EN:"Northeast",PT:"Nordeste"}},{short:"se",full:{EN:"Southeast",PT:"Sudeste"}},{short:"sw",full:{EN:"Southwest",PT:"Sudoeste"}},{short:"nw",full:{EN:"Northwest",PT:"Noroeste"}}];return a+=`<div class="split-header">\n                                <p class="card-title">PrevisÃ£o para 10 dias</p>\n                            </div>\n                            <div class="d-flex align-items-end mt-2">\n                                <h3>${e.local}</h3>\n                            </div>\n                            <div class="d-flex mt-2">\n                                <div class="wrapper d-flex pr-4">\n                                    <small class="text-primary font-weight-medium mr-2">Fonte</small>\n                                    <small class="text-gray">Instituto PortuguÃªs do Mar e da Atmosfera (IPMA)</small>\n                                </div>\n                            </div>`,a+='<div class="d-flex flex-row" style="overflow-x: auto;">',e.data.map(e=>{a+=`<div class="d-flex align-items-center flex-column mt-5 mb-3">\n                                        <div class="d-flex flex-column align-items-center h-50">\n                                            <video autoplay loop muted playsinline class="h-auto w-50">  \n                                                <source src="${t}${n.map(t=>{if(t.tags.includes(e.weather.EN.toLowerCase()))return t.path}).join("")}" type="video/webm"> \n                                            </video>  \n                                            <p class="mt-4 text-muted">${e.weather.PT}</p>\n                                        </div>\n                                        <div class="mt-3">\n                                            <div class="grid table-responsive">\n                                                <table class="table table-stretched">\n                                                    <thead>\n                                                        <tr><th><p class="display-4">${e.date.forecast.split("/")[1]}/${e.date.forecast.split("/")[0]}/${e.date.forecast.split("/")[2]}</p></th></tr>\n                                                    </thead>\n                                                    <tbody>\n                                                        <tr>\n                                                            <td>\n                                                                <p class="mb-n1 font-weight-medium">Temperatura</p>\n                                                                <small class="text-gray">Max/Min</small>\n                                                            </td>\n                                                            <td class="font-weight-medium">\n                                                                <div class="badge badge-danger">${e.temperature.max}ÂºC</div>\n                                                                <div class="badge badge-primary" style="background-color: #006acc;">${e.temperature.min}ÂºC</div>\n                                                            </td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td>\n                                                                <p class="mb-n1 font-weight-medium">Vento</p>\n                                                                <small class="text-gray">Velocidade/DireÃ§Ã£o</small>\n                                                            </td>\n                                                            <td class=" font-weight-medium">\n                                                                <div class="badge badge-${s.map(t=>{if("wind"==t.type){return t.badge.map(t=>{if(null!=e.rain.type&&t.tags.includes(e.wind.type.EN.toLowerCase()))return t.color}).join("")}}).join("")}">${null!=e.wind.type?e.wind.type.PT:"Sem informaÃ§Ã£o"}</div>\n                                                                <div class="badge badge-secondary">\n                                                                    ${e.wind.direction} -\n                                                                    ${o.map(t=>{if(t.short==e.wind.direction.toLowerCase())return t.full.PT}).join("")}\n                                                                </div>\n                                                            </td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td>\n                                                                <p class="mb-n1 font-weight-medium">PrecipitaÃ§Ã£o</p>\n                                                                <small class="text-gray">Quantidade/Probabilidade</small>\n                                                            </td>\n                                                            <td class=" font-weight-medium">\n                                                                <div class="badge badge-${s.map(t=>{if("rain"==t.type){return t.badge.map(t=>{if(null!=e.rain.type&&t.tags.includes(e.rain.type.EN.toLowerCase()))return t.color}).join("")}}).join("")}">${null!=e.rain.type?e.rain.type.PT:"Sem informaÃ§Ã£o"}</div>\n                                                                <div class="badge badge-${s.map(t=>{if("rain-percentage"==t.type){return t.badge.map(t=>{if(Math.round(e.rain.probabilityPercentage)>=t.tags[0]&&Math.round(e.rain.probabilityPercentage)<=t.tags[1])return t.color}).join("")}}).join("")}">${Math.round(e.rain.probabilityPercentage)}%</div>\n                                                            </td>\n                                                        </tr>\n                                                    </tbody>\n                                                </table>\n                                            </div>\n                                        </div>\n                                    </div>`}),a+="</div>"};async function PJSCAppendForecastToContainer(e,t,a){let n=document.querySelector(e);try{if(null==n)throw"Unknown containerId passed to function PJSCAppendForecastToContainer() ðŸ˜µ"}catch(e){console.error(e)}const s=fetch("https://capsule-api-rosy.vercel.app/api/meteorology/zones",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({local:t.local,filterBy:t.filterBy})}),o=await(await s).json();if(null!=o&&null!=o[0].globalIdLocal){const e=fetch("https://capsule-api-rosy.vercel.app/api/meteorology/forecast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({localCode:o[0].globalIdLocal})}),t=await(await e).json();null!=t&&(n.innerHTML=PJSCGenForecastComponent({data:t,local:o[0].local},a))}console.log("[PJSC] Forecast component been appended successfully ðŸš€")}